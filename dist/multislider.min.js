/*
 *  multi-slider - v0.1.0
 *  A multi-slider bar jQuery plugin.
 *  http://components.rmalabs.com/multi-slider
 *
 *  Made by Harun Hasdal
 *  Under MIT License
 */
!function(a){"use strict";function b(b,c){this.element=b,this.settings=a.extend({},d,c),this.init()}var c="multiSlider",d={};a.extend(b.prototype,{init:function(){var b=a('<div class="bucket-collection"></div>');for(var d in this.settings.buckets)b.append(a("<div></div>").addClass(this.settings.buckets[d].key).addClass("bucket").append("<span>"+this.settings.buckets[d].value+"%</span>").css("height",this.settings.buckets[d].value+"%").append('<div class="handle"></div>'));a(this.element).addClass("multibar-slider").append(b),this.addDragHandlers(b),console.log("initialised "+c)},addDragHandlers:function(b){b.find(".handle").mousedown(function(c){var d=c.target,e=a(d.parentNode.parentNode),f=a(d.parentNode),g=f.next(),h=e.outerHeight(),i=f.outerHeight()/h,j=g.outerHeight()/h;b.mousemove(function(a){e.addClass("dragging"),f.addClass("active");var b=(a.pageY-c.pageY)/h,d=(100*(i+b)).toFixed(1)+"%";f.css("height",d).find("span").html(d);var k=(100*(j-b)).toFixed(1)+"%";g.css("height",k).find("span").html(k)}),b.mouseup(function(){b.unbind("mousemove"),b.unbind("mouseup"),e.removeClass("dragging"),f.removeClass("active")})})}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);