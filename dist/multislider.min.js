/*
 *  multi-slider - v0.1.0
 *  A multi-slider bar jQuery plugin.
 *  http://components.rmalabs.com/multi-slider
 *
 *  Made by Harun Hasdal
 *  Under MIT License
 */
!function(a,b){"use strict";function c(b,c){this.element=b,this.settings=a.extend({},e,c),this.init()}var d="multiSlider",e={};a.extend(c.prototype,{init:function(){var b=a('<div class="bucket-collection"></div>');for(var c in this.settings.buckets)b.append(a("<div></div>").addClass(this.settings.buckets[c].key).addClass("bucket").append("<span>"+this.settings.buckets[c].value+"%</span>").css("height",this.settings.buckets[c].value+"%").append('<div class="handle"></div>'));a(this.element).addClass("multibar-slider").append(b),this.addDragHandlers(b),console.log("initialised "+d)},addDragHandlers:function(c){c.find(".handle").mousedown(function(c){var d=c.target,e=a(d.parentNode.parentNode),f=a(d.parentNode),g=f.next(),h=e.outerHeight(),i=f.outerHeight()/h,j=g.outerHeight()/h;a(b).mousemove(function(a){e.addClass("dragging"),f.addClass("active");var b=(a.pageY-c.pageY)/h,d=(100*(i+b)).toFixed(1)+"%";f.css("height",d).find("span").html(d);var k=(100*(j-b)).toFixed(1)+"%";g.css("height",k).find("span").html(k)}),a(b).mouseup(function(){a(b).unbind("mousemove"),a(b).unbind("mouseup"),e.removeClass("dragging"),f.removeClass("active")})})}}),a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window,document);